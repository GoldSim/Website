@using GoldSim.Web.Models.Licenses
@model LicenseAdministrationTopicViewModel

@{
  Layout = "~/Views/Layout/_Layout.cshtml";
}

@section Head {
  <link href="//cdn.datatables.net/1.10.11/css/jquery.dataTables.min.css" rel="stylesheet" />
  <link href="~/Shared/Styles/Views/LicenseAdministration.css" rel="stylesheet" />
}

@section PostTitleSection {

  <!-- Body Content -->
  <section class="embedded pane body">
    @Html.Raw(Model.Body)
  </section>
  <!-- Body Content -->

}

@section PageBodySection {

  <section class="panel">


      <!-- Actions (Delete) -->
      <div class="Actions Top">
        <a id="ExportRequestsButton" class="button large" href="/Licenses/Export/">Export Requests</a>
      </div>

      <!-- /Actions (Delete) -->
      <!-- Edit Form -->
      <div class="wide table-wrapper">

        <table id="PendingRequests" class="table table-striped table-responsive table-highlight" data-provide="datatable" data-display-rows="10" data-info="false" data-search="false" data-length-change="false" data-paginate="true">
          <thead>
            <tr>
              <th data-filterable="true" data-sortable="true" class="sorting Header"><span class="Sort Label">Name</span></th>
              <th data-filterable="false" data-sortable="false" class="Header"><span class="Sort Label">Organization</span></th>
              <th data-filterable="true" data-sortable="true" class="sorting Header"><span class="Sort Label">Type</span></th>
              <th data-filterable="true" data-sortable="true" data-direction="asc" class="sorting_asc Header"><span class="Sort Label">Date Received</span></th>
            </tr>
          </thead>
          <tbody>
            @foreach (var request in Model.Requests) {
              <tr id="@Model.Key" class="Request-Row">
                <td>@request.FirstName @request.LastName</td>
                <td>@request.Organization</td>
                <td>@request.GetType().Name.Replace("FormTopicViewModel", "")</td>
                <td>@request.LastModified.ToString("MM/dd/yyyy hh:mm:ss tt")</td>
              </tr>
            }
          </tbody>
        </table>

        @if (Model.Requests.Count == 0) {
          <!-- Messages Area -->
          <div id="MessagesArea" class="row Messages-Area">
            <div id="NoRequestsAlert" class="alert alert-info" role="alert" Style="margin-top: 25px; font-size: 15px;">
              There are currently no license requests to review or delete.
            </div>
          </div>
          <!-- /Messages Area -->
        }

      </div>
      <!-- /Edit Form -->

  </section>
}

@section Scripts {
  <script src="//cdn.datatables.net/1.10.11/js/jquery.dataTables.min.js"></script>
  <script src="~/Shared/Scripts/Views/LicenseAdministration.js"></script>
}

@model TopicViewModel

@if ((ViewContext.View as RazorView).ViewPath.IndexOf("IndexedList") > 0) {
  <aside class="contents">
    <h1>Contents</h1>
    <ul>
      @if (Model.Topic.Attributes.Contains("Categories") && Model.Topic["Categories"] != null && Model.Topic["Categories"].Count > 0) {
        foreach (Topic category in Model.Topic["Categories"].OrderBy(c => c)) {
          <li><a href="#@category.Key">@category.Title</a></li>
        }
      }
      else {
        foreach (Topic contentItem in Model.Topic["ContentItems"].SortedChildren) {
          <li><a href="#@contentItem.Key">@contentItem.Title</a></li>
        }
      }
    </ul>
  </aside>
}
